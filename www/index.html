<!doctype html>
<html>

<head>
  <meta charset="utf-8" />
  <link href="style.css" rel="stylesheet">
  <title>Koy</title>
</head>

<body onload="main()">
  <div style="padding: 2rem;">
    <div class="markdown-body" id="content"></div>
  </div>
  <script>
    async function main() {
      async function render() {
        const { content, filePath } = await window.parse()
        document.getElementById('content').innerHTML = content
        document.title = `${filePath} - Koy`
      }

      await render()

      const event = await rpc.lookup('event')
      event.on('update', () => render())
    }
  </script>
</body>

</html>